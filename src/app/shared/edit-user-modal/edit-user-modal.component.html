<!-- Modal -->
<div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editUserModalLabel">
          <i class="bi bi-person-gear"></i> Edit User
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      
      <form (ngSubmit)="onSubmit()">
        <div class="modal-body">
          <div class="row">
            <!-- Username -->
            <div class="col-md-6 mb-3">
              <label for="editUsername" class="form-label fw-semibold">
                <i class="bi bi-person-badge"></i> Username <span class="text-danger">*</span>
              </label>
              <input 
                type="text" 
                class="form-control"
                id="editUsername"
                name="username"
                [(ngModel)]="username" 
                placeholder="Username"
                required
              />
            </div>

            <!-- Nama Lengkap -->
            <div class="col-md-6 mb-3">
              <label for="editNama" class="form-label fw-semibold">
                <i class="bi bi-person"></i> Nama Lengkap <span class="text-danger">*</span>
              </label>
              <input 
                type="text" 
                class="form-control"
                id="editNama"
                name="nama"
                [(ngModel)]="nama" 
                placeholder="Nama lengkap"
                required
              />
            </div>
          </div>

          <div class="row">
            <!-- Bagian -->
            <div class="col-md-6 mb-3">
              <label for="editBagian" class="form-label fw-semibold">
                <i class="bi bi-building"></i> Bagian/Departemen <span class="text-danger">*</span>
              </label>
              <input 
                type="text" 
                class="form-control"
                id="editBagian"
                name="bagian"
                [(ngModel)]="bagian" 
                placeholder="Contoh: IT, Finance, HRD"
                required
              />
            </div>

            <!-- Email -->
            <div class="col-md-6 mb-3">
              <label for="editEmail" class="form-label fw-semibold">
                <i class="bi bi-envelope"></i> Email <span class="text-danger">*</span>
              </label>
              <input 
                type="email" 
                class="form-control"
                id="editEmail"
                name="email"
                [(ngModel)]="email" 
                placeholder="email@example.com"
                required
              />
            </div>
          </div>

          <!-- Role -->
          <div class="mb-3">
            <label for="editRole" class="form-label fw-semibold">
              <i class="bi bi-shield-check"></i> Role <span class="text-danger">*</span>
            </label>
            <select 
              class="form-select" 
              id="editRole"
              name="role"
              [(ngModel)]="role"
              required
            >
              <option value="user">User</option>
              <option value="admin">Admin</option>
            </select>
          </div>

          <!-- Password (Optional) -->
          <div class="mb-3">
            <label for="editPassword" class="form-label fw-semibold">
              <i class="bi bi-key"></i> Password Baru
            </label>
            <input 
              type="password" 
              class="form-control"
              id="editPassword"
              name="password"
              [(ngModel)]="password" 
              placeholder="Kosongkan jika tidak ingin mengubah password"
            />
            <div class="form-text">
              <i class="bi bi-info-circle"></i> 
              Kosongkan jika tidak ingin mengubah password. Minimal 6 karakter jika diisi.
            </div>
          </div>
        </div>
        
        <div class="modal-footer">
          <button 
            type="button" 
            class="btn btn-secondary" 
            data-bs-dismiss="modal"
            [disabled]="isSubmitting"
          >
            <i class="bi bi-x-circle"></i> Batal
          </button>
          <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="isSubmitting"
          >
            <span *ngIf="!isSubmitting">
              <i class="bi bi-check-circle"></i> Update User
            </span>
            <span *ngIf="isSubmitting">
              <span class="spinner-border spinner-border-sm me-2"></span>
              Mengupdate...
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>